var __extends=this&&this.__extends||function(){var n=function(t,e){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i))t[i]=e[i]};return n(t,e)};return function(t,e){if(typeof e!=="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}();var View=laya.ui.View;var Dialog=laya.ui.Dialog;var ui;(function(i){var t=function(t){__extends(e,t);function e(){return t.call(this)||this}e.prototype.createChildren=function(){View.regComponent("ui.RankVIewitemUI",i.RankVIewitemUI);t.prototype.createChildren.call(this);this.createView(i.MyRankViewUI.uiView)};e.uiView={type:"View",props:{width:750,height:150},child:[{type:"List",props:{width:750,var:"myList",vScrollBarSkin:" ",height:150},child:[{type:"RankVIewitem",props:{renderType:"render",runtime:"ui.RankVIewitemUI"}}]}]};return e}(View);i.MyRankViewUI=t})(ui||(ui={}));(function(i){var t=function(t){__extends(e,t);function e(){return t.call(this)||this}e.prototype.createChildren=function(){t.prototype.createChildren.call(this);this.createView(i.RankVIewitemUI.uiView)};e.uiView={type:"View",props:{width:750,height:100},child:[{type:"Image",props:{y:0,x:0,width:750,var:"bg",height:100}},{type:"Image",props:{y:0,x:0,width:100,var:"img",height:100}}]};return e}(View);i.RankVIewitemUI=t})(ui||(ui={}));var __extends=this&&this.__extends||function(){var n=function(t,e){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i))t[i]=e[i]};return n(t,e)};return function(t,e){if(typeof e!=="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}();var RankView=function(t){__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.initialize=function(){this.width=Laya.stage.width;this.height=Laya.stage.height;this.myList.x=this.width/2;this.myList.y=this.height/2;this.myList.itemRender=ui.RankVIewitemUI;this.myList.renderHandler=new Laya.Handler(this,this.onRenderHandler);this.graphics.drawRect(0,0,this.width,this.height,null,"#ff0000",1)};e.prototype.onRenderHandler=function(t,e){var i=t.dataSource;t.img.skin=i.avatarUrl;t.bg.skin="res/ic_launcher.png"};e.prototype.drawAll=function(t){this.myList.array=t};return e}(ui.MyRankViewUI);var GameMain=function(){function t(){var n=window["wx"];var r;console.log("子域初始化!!!"+Date.now());window["wx"].onMessage(function(t){console.log(t);if(t["isLoad"]=="filedata"){}else if(t["isLoad"]=="filenative"){}else if(t["type"]=="resizeShared"){var e=t["data"].matrix;var i=new Laya.Matrix;i.a=e.a;i.b=e.b;i.c=e.c;i.d=e.d;Laya.stage._canvasTransform=i}else if(t["type"]=="clear"){console.log("son clear");r.removeSelf()}else if(t["type"]=="init"){Laya.MiniAdpter.init(true,true);Laya.init(window.innerWidth,window.innerHeight);Laya.stage.bgColor=null;Laya.Stat.show(0,Laya.stage.height/2);if(!r){r=new RankView}Laya.stage.addChild(r);n.getFriendCloudStorage({keyList:["score"],success:function(t){console.log(t);var e=[];if(t.data&&t.data.length>0){e=t.data}r.drawAll(e)}})}})}return t}();new GameMain;